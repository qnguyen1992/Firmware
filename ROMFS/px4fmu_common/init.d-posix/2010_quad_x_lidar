#!nsh
#
# @name Quad X general model with LIDAR
#
# @type Quadrotor Wide
#

sh /etc/init.d-posix/10016_iris

if [ $AUTOCNF = yes ]
then
#	param set EKF2_AID_MASK 2
#	param set EKF2_EV_DELAY 5
#	param set EKF2_EVP_NOISE 0.05
#	param set EKF2_EVA_NOISE 0.05

	param set INAV_LIDAR_EST 1
#	param set INAV_W_XY_FLOW 1.0
#	param set INAV_W_XY_GPS_P 0.0
#	param set INAV_W_XY_GPS_V 0.0
#	param set INAV_W_Z_GPS_P 0.0

	# LPE: Flow-only mode
#	param set LPE_FUSION 242
#	param set LPE_FAKE_ORIGIN 1

	param set LPE_FUSION 147
	param set MPC_XY_CRUISE 3
	param set MPC_CRUISE_90 2
	param set MPC_OBS_AVOID 1
	param set MPC_ALT_MODE 2
	param set MC_PITCHRATE_P 0.1
	param set MC_ROLLRATE_P 0.05
	param set MPC_XY_VEL_I 0.2
	param set MPC_XY_VEL_P 0.15

	param set RTL_DESCEND_ALT 10.0
	param set RTL_LAND_DELAY 0

	param set TRIG_INTERFACE 3
	param set TRIG_MODE 4
	param set MNT_MODE_IN 0
	param set MAV_PROTO_VER 2
fi
